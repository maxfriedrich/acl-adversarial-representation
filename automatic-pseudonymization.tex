% !TeX root=main
% !TeX spellcheck=en_US

\section{Automatic Pseudonymization}\label{sec:automatic-pseudonymization}
%
As state-of-the-art de-identification models do not rely on document coherency to identify \ac{phi}, we evaluate a naive word-level automatic pseudonymization approach to perturbing training data.
%
Before training, we replace all \ac{phi} tokens with a random choice of a fixed number $N$ of their neighbors in an embedding space, as determined by cosine distance in a pre-computed embedding matrix.

%
When using GloVe embeddings, only tokens that exist in the pre-computed embedding matrix are moved to their neighbors.
%
The unknown token is not modified as it does not contain any information (except that the token in question is not part of the precomputed matrix).

% TODO throw this adversary stuff away?
%
We evaluate the privacy properties of the approach using a bidirectional \ac{lstm} adversary with a single output unit.
%
It is trained on the tasks of distinguishing pairs of:
\begin{itemize}
    \item a pseudonymized sequence and the original sequence
    \item a pseudonymized sequence and a minimally modified original sequence (with only one occurrence of \ac{phi} moved to one of its neighbors).
\end{itemize}
%
For the minimally modified original sequence, we keep the number of neighbors fixed at $N=5$ to avoid augmented sentences being too unrealistic.

\begin{figure}
    \centering
    \input{images/plt/automatic-pseudonymization.pgf}
    \caption[De-identification with automatic pseudonymization]{\fone scores of our models when trained on automatically pseudonymized data where \ac{phi} tokens are moved to one of different numbers of neighbors $N$.}\label{fig:auto-pseudo}
    % TODO describe or delete the grey dashed lines
\end{figure}